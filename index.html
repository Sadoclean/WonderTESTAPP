<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WonderClean Vertriebssystem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">

        const useLocalStorage = (key, initialValue) => {
            const [storedValue, setStoredValue] = useState(() => {
                try {
                    const item = window.localStorage.getItem(key);
                    return item ? JSON.parse(item) : initialValue;
                } catch (error) {
                    console.error(error);
                    return initialValue;
                }
            });

            const setValue = (value) => {
                try {
                    const valueToStore = value instanceof Function ? value(storedValue) : value;
                    setStoredValue(valueToStore);
                    window.localStorage.setItem(key, JSON.stringify(valueToStore));
                } catch (error) {
                    console.error(error);
                }
            };
            return [storedValue, setValue];
        };

        // --- ARTIKELSTAMM DATEN ---
        const artikelStammData = [
            { produktId: 'WI-001', name: 'Ultra Clean Sıvı Sabun 5kg', beschreibung: 'Kozmetik sektörünün premium bileşenleriyle formüle edilmiş üstün kaliteli el temizlik ürünü.', kategorie: 'Sıvı & Köpük Sabun', preis: 15.00, bestand: 100 },
            { produktId: 'WI-002', name: 'Ultra Clean Sıvı Sabun 20kg', beschreibung: 'Kozmetik sektörünün premium bileşenleriyle formüle edilmiş üstün kaliteli el temizlik ürünü.', kategorie: 'Sıvı & Köpük Sabun', preis: 50.00, bestand: 100 },
            { produktId: 'W3-002', name: 'Pro Technology Yüzey Temizleyici 20kg', beschreibung: 'İleri teknoloji formülüyle geliştirilen yüzey temizleyicimiz, profesyonel temizlikte fark oluşturur.', kategorie: 'Yüzey Temizleyiciler', preis: 45.00, bestand: 500 },
            { produktId: 'W4-002', name: 'Full Performance Bulaşık Deterjanı 20kg', beschreibung: 'Premium sınıf bulaşık deterjanımız, güçlendirilmiş formülü ve üstün performansıyla maksimum temizlik sağlar.', kategorie: 'Mutfak Ürünleri', preis: 52.00, bestand: 500 },
            { produktId: 'W7-003', name: 'Klasik Çamaşır Suyu 20kg', beschreibung: 'Klasik formül für zuverlässige Hijyen.', kategorie: 'Çamaşır & Hijyen', preis: 30.00, bestand: 400 },
            { produktId: 'W7-002', name: 'Exterminator Çamaşır Suyu 20kg', beschreibung: 'Yoğun kıvamlı özel formülü ve 3 kat konsantre etkisi ile maksimum hijyen ve temizlik performansı sunar.', kategorie: 'Çamaşır & Hijyen', preis: 35.00, bestand: 200 },
        ].map(p => ({...p, id: p.produktId, naechsteLieferung: null}));


        function App() {
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [darkMode, setDarkMode] = useState(false);
            const [produkte, setProdukte] = useLocalStorage('wonderclean_produkte', artikelStammData);
            const [kunden, setKunden] = useLocalStorage('wonderclean_kunden', []);
            const [auftraege, setAuftraege] = useLocalStorage('wonderclean_auftraege', []);
            const [notizen, setNotizen] = useLocalStorage('wonderclean_notizen', []);
            const [lieferscheine, setLieferscheine] = useLocalStorage('wonderclean_lieferscheine', []);
            
            useEffect(() => {
                document.documentElement.classList.toggle('dark', darkMode);
            }, [darkMode]);

            const navigate = (page) => setCurrentPage(page);

            const dataProps = {
                produkte, setProdukte,
                kunden, setKunden,
                auftraege, setAuftraege,
                notizen, setNotizen,
                lieferscheine, setLieferscheine,
                navigate
            };

            return (
                <div className="min-h-screen font-sans bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100">
                    <Header darkMode={darkMode} setDarkMode={setDarkMode} />
                    <main className="p-4 sm:p-6 lg:p-8">
                        {currentPage !== 'dashboard' && (
                            <button onClick={() => navigate('dashboard')} className="mb-6 flex items-center text-blue-600 dark:text-blue-400 hover:underline">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="mr-2 h-5 w-5"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
                                Zurück zum Dashboard
                            </button>
                        )}
                        {currentPage === 'dashboard' && <Dashboard setCurrentPage={navigate} />}
                        {currentPage === 'artikelstamm' && <Artikelstamm {...dataProps} />}
                        {currentPage === 'lager' && <Lagerbestand {...dataProps} />}
                        {currentPage === 'kunden' && <Kundenstamm {...dataProps} />}
                        {currentPage === 'auftraege' && <Auftragserfassung {...dataProps} />}
                        {currentPage === 'notizen' && <Besuchsnotizen {...dataProps} />}
                        {currentPage === 'wareneingang' && <Wareneingang {...dataProps} />}
                        {currentPage === 'statistik' && <Statistik {...dataProps} />}
                        {currentPage === 'lieferscheine' && <Lieferscheine {...dataProps} />}
                    </main>
                </div>
            );
        }

        const Header = ({ darkMode, setDarkMode }) => {
            return (
                <header className="bg-white dark:bg-gray-800 shadow-md p-4 flex justify-between items-center">
                    <div className="flex items-center space-x-4">
                        <img src="https://placehold.co/150x50/003366/FFFFFF?text=WonderClean" alt="WonderClean Logo" className="h-10 rounded" />
                        <h1 className="text-xl md:text-2xl font-bold text-blue-600 dark:text-blue-400 hidden sm:block">Vertriebssystem</h1>
                    </div>
                    <button onClick={() => setDarkMode(!darkMode)} className="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700">
                        {darkMode ? <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg> 
                                   : <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>}
                    </button>
                </header>
            );
        }

        const Dashboard = ({ setCurrentPage }) => {
            const menuItems = [
                { id: 'artikelstamm', label: 'Artikelstamm', page: 'artikelstamm' },
                { id: 'lager', label: 'Lagerbestand', page: 'lager' },
                { id: 'kunden', label: 'Kundenstamm', page: 'kunden' },
                { id: 'auftraege', label: 'Neuer Auftrag', page: 'auftraege' },
                { id: 'lieferscheine', label: 'Lieferscheine', page: 'lieferscheine'},
                { id: 'notizen', label: 'Besuchsnotizen', page: 'notizen' },
                { id: 'wareneingang', label: 'Wareneingang', page: 'wareneingang' },
                { id: 'statistik', label: 'Statistik', page: 'statistik' },
            ];
            return (
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div className="sm:col-span-2 lg:col-span-4"><h2 className="text-3xl font-bold mb-2">Willkommen!</h2><p className="text-gray-600 dark:text-gray-400">Wählen Sie eine Aktion aus, um zu beginnen.</p></div>
                    {menuItems.map(item => (<button key={item.id} onClick={() => setCurrentPage(item.page)} className="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all flex flex-col items-center justify-center text-center"><span className="text-lg font-semibold">{item.label}</span></button>))}
                </div>
            );
        }

        // --- HIER BEGINNEN DIE KOMPONENTEN FÜR DIE EINZELNEN SEITEN ---

        const Artikelstamm = ({ produkte }) => {
             return <div><h2 className="text-2xl font-bold">Artikelstamm</h2><p className="mt-4">Hier werden die Artikel angezeigt.</p></div>
        }
        
        const Lagerbestand = ({ produkte }) => {
            return <div><h2 className="text-2xl font-bold">Lagerbestand</h2><p className="mt-4">Hier wird der Lagerbestand angezeigt.</p></div>
        }

        const Kundenstamm = ({ kunden, setKunden }) => {
            return <div><h2 className="text-2xl font-bold">Kundenstamm</h2><p className="mt-4">Hier werden die Kunden verwaltet.</p></div>
        }
        
        const Auftragserfassung = ({ kunden, produkte, setProdukte, auftraege, setAuftraege }) => {
            return <div><h2 className="text-2xl font-bold">Auftragserfassung</h2><p className="mt-4">Hier werden Aufträge erfasst.</p></div>
        }
        
        const Besuchsnotizen = ({ notizen, setNotizen, kunden }) => {
            return <div><h2 className="text-2xl font-bold">Besuchsnotizen</h2><p className="mt-4">Hier werden Notizen erfasst.</p></div>
        }

        const Wareneingang = ({ produkte, setProdukte }) => {
            return <div><h2 className="text-2xl font-bold">Wareneingang</h2><p className="mt-4">Hier wird der Wareneingang gebucht.</p></div>
        }

        const Statistik = ({ auftraege, produkte }) => {
            return <div><h2 className="text-2xl font-bold">Statistik</h2><p className="mt-4">Hier werden Statistiken angezeigt.</p></div>
        }
        
        const Lieferscheine = ({ lieferscheine, setLieferscheine, auftraege, kunden }) => {
            return <div><h2 className="text-2xl font-bold">Lieferscheine</h2><p className="mt-4">Hier werden Lieferscheine erstellt und verwaltet.</p></div>
        }


        const PageTitle = ({ title, children }) => {
            return <div className="flex justify-between items-center mb-6"><h2 className="text-3xl font-bold">{title}</h2><div>{children}</div></div>;
        }

        const ModalWrapper = ({ title, onClose, children }) => {
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4">
                    <div className="bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 w-full max-w-lg max-h-full overflow-y-auto">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-2xl font-bold">{title}</h3>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-800 dark:hover:text-gray-200 text-3xl">&times;</button>
                        </div>
                        {children}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>
